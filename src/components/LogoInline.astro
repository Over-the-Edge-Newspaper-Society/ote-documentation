---
import { readFileSync } from 'fs';
import { fileURLToPath } from 'url';
import { dirname, join } from 'path';

const __filename = fileURLToPath(import.meta.url);
const __dirname = dirname(__filename);
const logoPath = join(__dirname, '../assets/ote-logo-asset2.svg');
let logoSvg = readFileSync(logoPath, 'utf-8');

// Remove fixed width/height and add responsive attributes
logoSvg = logoSvg.replace(/width="485" height="80\.16"/, 'width="100%" height="100%"');
logoSvg = logoSvg.replace(/class="ote-logo"/, 'class="ote-logo responsive-logo"');
---

<a href="/" class="site-title">
  <Fragment set:html={logoSvg} />
  <span class="sr-only">Over the Edge</span>
</a>

<style>
.site-title {
  display: flex;
  align-items: center;
  text-decoration: none;
  color: inherit;
  height: 2.5rem;
}

.site-title svg {
  height: 100%;
  width: auto;
  max-width: 200px;
}

/* Responsive sizing */
@media (max-width: 768px) {
  .site-title {
    height: 2rem;
  }
  .site-title svg {
    max-width: 150px;
  }
}

@media (max-width: 480px) {
  .site-title {
    height: 1.5rem;
  }
  .site-title svg {
    max-width: 120px;
  }
}

.site-title svg .logo-text {
  fill: var(--sl-color-text);
}

.site-title svg .logo-main-text {
  fill: var(--sl-color-text);
}

.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}
</style>