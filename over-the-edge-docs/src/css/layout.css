/**
 * Main Layout Structure - IONOS Style Width Consistency
 * Over the Edge Documentation
 * FIXED: Proper centering for all screen widths
 */

/* Base Container System - IONOS Style */
.container {
  width: 100%;
  margin-left: auto;
  margin-right: auto;
  padding-left: 1rem;
  padding-right: 1rem;
}

/* Responsive Container Widths - IONOS Style */
@media (min-width: 480px) {
  .container {
    max-width: 480px;
  }
}

@media (min-width: 640px) {
  .container {
    max-width: 640px;
  }
}

@media (min-width: 768px) {
  .container {
    max-width: 768px;
    padding-left: 1.5rem;
    padding-right: 1.5rem;
  }
}

@media (min-width: 1024px) {
  .container {
    max-width: 1024px;
    padding-left: 2rem;
    padding-right: 2rem;
  }
}

@media (min-width: 1280px) {
  .container {
    max-width: 1200px; /* IONOS-style max width */
  }
}

@media (min-width: 1536px) {
  .container {
    max-width: 1200px; /* Keep consistent max width */
  }
}

/* FIXED: Main documentation layout - target all docMainContainer variants */
main[class*="docMainContainer"] {
  background-color: var(--ifm-background-color);
  width: 100%;
  max-width: 1200px; /* IONOS-style container width */
  margin: 0 auto; /* CRUCIAL: This centers the main content */
  overflow: visible;
  box-sizing: border-box;
  padding: 0 1rem; /* Add padding for mobile */
}

/* FIXED: Documentation page layout with IONOS proportions */
.theme-doc-page,
div[class*="docPage"] {
  background-color: var(--ifm-background-color);
  display: flex;
  flex-direction: row; /* Horizontal layout for desktop */
  overflow: visible;
  width: 100%;
  max-width: 1200px; /* IONOS max width */
  margin: 0 auto; /* Center the entire page */
}

/* Docs wrapper with side margins */
div[class*="docsWrapper"] {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 2rem; /* Add margins on both sides */
  box-sizing: border-box;
}

@media (max-width: 1024px) {
  div[class*="docsWrapper"] {
    padding: 0 1.5rem;
  }
}

@media (max-width: 768px) {
  div[class*="docsWrapper"] {
    padding: 0 1rem;
  }
}

@media (max-width: 480px) {
  div[class*="docsWrapper"] {
    padding: 0 0.75rem;
  }
}

/* Ensure proper horizontal layout on desktop */
@media (min-width: 997px) {
  .theme-doc-page,
  div[class*="docPage"] {
    flex-direction: row; /* Side-by-side layout for sidebar and content */
  }
}

/* Additional fixes to ensure sidebar and content stay within centered layout */
@media (min-width: 997px) {
  /* Ensure the main documentation container doesn't exceed bounds */
  main[class*="docMainContainer"] {
    box-sizing: border-box;
    padding: 0 1rem; /* Consistent padding */
  }
  
  /* Ensure proper flex layout for desktop */
  .theme-doc-page,
  div[class*="docPage"] {
    display: flex;
    flex-direction: row;
    align-items: flex-start;
    justify-content: flex-start;
    width: 100%;
    box-sizing: border-box;
  }
  
  /* Ensure sidebar stays within bounds with proper flex */
  .theme-doc-sidebar-container {
    flex-shrink: 0;
    margin-left: 0;
    margin-right: 1.5rem;
  }
  
  /* Ensure content area takes remaining space properly */
  div[class*="docItemContainer"] {
    flex: 1;
    min-width: 0; /* Prevent overflow */
    max-width: none; /* Let flex handle the width */
    margin-left: 0; /* Ensure no negative left margin */
  }
}

/**
 * Targeted Fix for docItemContainer
 * Remove border, selective background application
 */

/* Remove border from docItemContainer but keep centering */
div[class*="docItemContainer"] {
  flex: 1;
  min-width: 0;
  border: none !important; /* Remove the border */
  box-shadow: none !important; /* Remove shadow too */
  background: transparent !important; /* Make container transparent */
  border-radius: 0 !important; /* Remove border radius */
  overflow: hidden;
  width: 100%;
  margin: 0 auto; /* Center the content container */
}

/* Apply background to all elements inside docItemContainer EXCEPT markdown content */
div[class*="docItemContainer"] > article > *:not(.theme-doc-markdown) {
  background: var(--ifm-background-surface-color);
  border-radius: var(--ifm-global-radius);
  border: 1px solid var(--ifm-color-emphasis-200);
  margin-bottom: 1rem;
  padding: 1rem;
}

/* Apply background to pagination nav (outside article) */
div[class*="docItemContainer"] > nav[class*="pagination-nav"] {
  background: var(--ifm-background-surface-color);
  border-radius: var(--ifm-global-radius);
  border: 1px solid var(--ifm-color-emphasis-200);
  padding: 0; /* Pagination has its own padding */
}

/* Ensure markdown content has NO background styling */
.theme-doc-markdown.markdown {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  border-radius: 0 !important;
  /* Keep the existing padding for readability */
}

/* Special styling for breadcrumbs */
nav[class*="breadcrumbs"] {
  background: var(--ifm-background-surface-color) !important;
  border: 1px solid var(--ifm-color-emphasis-200) !important;
  border-radius: var(--ifm-global-radius) !important;
  padding: 0.75rem 1rem !important;
  margin-bottom: 1rem !important;
}

/* Special styling for mobile TOC */
div[class*="tocCollapsible"] {
  background: var(--ifm-background-surface-color) !important;
  border: 1px solid var(--ifm-color-emphasis-200) !important;
  border-radius: var(--ifm-global-radius) !important;
  padding: 0.75rem 1rem !important;
  margin-bottom: 1rem !important;
}

/* Footer styling */
footer[class*="theme-doc-footer"] {
  background: var(--ifm-background-surface-color) !important;
  border: 1px solid var(--ifm-color-emphasis-200) !important;
  border-radius: var(--ifm-global-radius) !important;
  padding: 1rem !important;
  margin-bottom: 1rem !important;
}

/* Ensure the main layout doesn't interfere and maintains width consistency */
html[data-theme='light'],
html[data-theme='dark'] {
  overflow-x: visible;
  background-color: var(--ifm-background-color);
}

body {
  overflow-x: visible;
  background-color: var(--ifm-background-color);
}

/* Ensure main centering is preserved for the centering issue */
main[class*="docMainContainer"] {
  margin: 0 auto;
  max-width: 1200px;
  width: 100%;
}

/* IONOS-style responsive breakpoints - FIXED centering */
@media (max-width: 1280px) {
  main[class*="docMainContainer"] {
    max-width: 1000px; /* Smaller on medium screens */
  }
  
  .theme-doc-page,
  div[class*="docPage"] {
    max-width: 1000px;
  }
  
  div[class*="docItemContainer"] {
    max-width: 100%;
  }
}

@media (max-width: 1024px) {
  main[class*="docMainContainer"] {
    max-width: 100%;
    padding: 0 0.75rem; /* Reduced padding for tablets */
  }
  
  .theme-doc-page,
  div[class*="docPage"] {
    max-width: 100%;
  }
  
  div[class*="docItemContainer"] {
    max-width: 100%;
    margin: 0; /* Remove auto margins on smaller screens */
  }
}

@media (max-width: 996px) {
  .theme-doc-page,
  div[class*="docPage"] {
    flex-direction: column; /* Stack vertically on mobile/tablet */
  }
}

/* Responsive adjustments */
@media (max-width: 768px) {
  main[class*="docMainContainer"] {
    max-width: 100%;
    margin: 0 auto; /* Keep centering */
    padding: 0 0.75rem;
  }
  
  .container {
    padding-left: 1rem;
    padding-right: 1rem;
  }
  
  div[class*="docItemContainer"] {
    border-radius: var(--ifm-button-border-radius);
    margin: 0;
  }
  
  /* Reduce padding on mobile for all background elements */
  div[class*="docItemContainer"] > article > *:not(.theme-doc-markdown),
  nav[class*="breadcrumbs"],
  div[class*="tocCollapsible"],
  footer[class*="theme-doc-footer"] {
    padding: 0.75rem !important;
    margin-bottom: 0.75rem !important;
  }
}

@media (max-width: 640px) {
  main[class*="docMainContainer"] {
    padding: 0 0.5rem;
  }
}

@media (max-width: 480px) {
  main[class*="docMainContainer"] {
    padding: 0 0.25rem;
  }
  
  .container {
    padding-left: 0.75rem;
    padding-right: 0.75rem;
  }
  
  /* Further reduce on very small screens */
  div[class*="docItemContainer"] > article > *:not(.theme-doc-markdown),
  nav[class*="breadcrumbs"],
  div[class*="tocCollapsible"],
  footer[class*="theme-doc-footer"] {
    padding: 0.5rem !important;
    margin-bottom: 0.5rem !important;
    border-radius: var(--ifm-button-border-radius) !important;
  }
}

